@using Microsoft.FSharp.Core
@using CardOverflow.Entity
@using CardOverflow.Debug
@using CardOverflow.Pure
@using CardOverflow.Api
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Identity
@using CardOverflow.Sanitation
@using CardOverflow.Server.Data
@inherits OwningComponentBase<CardOverflowDb>
@inject IJSRuntime Js

<iframe sandbox="allow-scripts allow-same-origin" src=@SrcUrl scrolling="no" @ref="iframe" @onload=@iframeloaded
        style="width: 1px; min-width: 100%; height:100px;"></iframe>

@code {
  [Parameter]
  public string SrcUrl { get; set; }
  private ElementReference iframe;

  async Task iframeloaded() => await Js.InvokeAsync<string>("resizeIframe", iframe);
}
